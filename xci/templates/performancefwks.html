{% extends "base.html" %}
{% block content %}
<div class="container">  
<div class="page-header">
    <h1>Performance Frameworks</h1>
</div>
<div class="container"> 
{% if 'admin' in current_user.roles %}
<div class="row">
  <form class="col s12" role="form" method="post">
    <div class="row">
      <div class="input-field col s12">
      {{ frameworks_form.hidden_tag() }}
      {% for field, errors in frameworks_form.errors.iteritems() %}
          <div class="alert alert-danger">{{ field }}: {{ ', '.join(errors) }}</div>
      {% endfor %}    
      {% for field in frameworks_form if field.id != 'csrf_token' %}
      <div class="form-group">
      {{ field.label(class_='col-sm-2 control-label', for=field.id) }}
      <div class="col-sm-10">
      {{ field(class_='form-control') }}
      </div>
      </div>
      {% endfor %}
      <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10"> <button type="submit" class="btn btn-default">Submit</button></div>
      </div>
      </div>
    </div>
  </form>
{% endif %}
</div>

<br>
<br>

<p>Below are the performance frameworks already added to the system.</p>

<div class="row"><div class="col-xs-12"><hr></div></div>

{% for pfwk in pfwks %}
<div class="center">
        <div class="col s12 m6">
          <div class="card blue-grey">
            <div class="card-content white-text">
              <span class="card-title"><a class="orange-text accent-4" href="{{ url_for('perfwks') }}?uri={{pfwk.uri}}">{{ pfwk.title }}</a></span>
              <p>{{ pfwk.description|safe }}
              {% for lr in pfwk.lr_data %}
              <a href="{{ lr }}">LR Metadata</a>
              {% else %}
              <p>
                There are no known linked LR resources
              </p>
              {% endfor %}
              </p>
            </div>
          </div>
        </div>
      </div>
{% else %}
<p>No performance frameworks added to the system yet!</p>
{% endfor %}
</div>
</div>
{% endblock %}
